## 第2章 海量数据采集
- 数据形态
	- 结构化数据：数据规则且完整，是由二维表结构来逻辑表达和实现的数据，严格地遵循数据格式与长度规范。
		- 常见的结构化数据有关系型数据库中的数据、Excel中的数据等。
	- 半结构化数据：数据规则且完整，同样严格地遵循数据格式与长度规范，但无法通过二维表结构来表现。
		- 常见的半结构化数据有JSON、XML等格式的复杂结构。
	- 非结构化数据：数据结构不规则或不完整，不方便用二维表结构来表现，需要经过复杂的逻辑处理才能提取其中的信息内容。
		- 常见的非结构化数据有网页数据、图谱、声音和视频等。
- 数据来源
	- 日志数据：包括通过客户端埋点、服务端埋点等方式采集的系统日志和业务日志数据等。
		- 这些数据被采集过来之后可以反哺业务，为后期的运营和决策提供数据支撑。
	- 数据库数据：包括业务系统数据、订单数据、用户个人信息数据等。
		- 传统的业务数据存储基本上都是依赖数据库(MySQL、Oracle等)进行存储，企业在进行数据转型期间，需要将传统的数据库中的数据迁移到大数据平台中。
	- 网页数据：包括互联网网页中的新闻、博客等数据。
		- 当企业内部信息不足时，可以考虑利用外部互联网数据进行一些“化学反应”，即将外部的数据和内部的数据进行有效融合，从而让内部数据在应用上有很多价值。
	- 物联网数据：包括通过传感器、摄像头、Wifi探针等智能硬件采集到的数据。
		- 常见的采集方式有Wifi信号采集、信令数据采集、图像视频采集，以及传感器探测等。
- 数据采集规则
	- 离线采集
		- 全量采集
		- 增量采集
	- 实时采集
- 日志数据采集工具
	- Flume、Logstash和Filebeat对比

		<table>
			<tr>
				<th>对比项</th>
				<th>Flume</th>	
				<th>Logstash</th>
				<th>Filebeat</th>
			</tr>
			<tr>
				<td>来源</td>
				<td>Apache</td>
				<td>Elastic</td>
				<td>Elastic</td>
			</tr>
			<tr>
				<td>开发语言</td>
				<td>Java</td>
				<td>JRuby</td>
				<td>Go</td>
			</tr>
			<tr>
				<td>内存消耗</td>
				<td>高</td>
				<td>高</td>
				<td>低</td>
			</tr>
			<tr>
				<td>CPU消耗</td>
				<td>高</td>
				<td>高</td>
				<td>低</td>
			</tr>
			<tr>
				<td>容错性</td>
				<td>优秀，内部有事务机制</td>
				<td>优秀，内部有持久化队列</td>
				<td>无</td>
			</tr>
			<tr>
				<td>负载均衡</td>
				<td>支持</td>
				<td>支持</td>
				<td>支持</td>
			</tr>
			<tr>
				<td>插件</td>
				<td>丰富的输入和输出插件</td>
				<td>丰富的输入和输出插件</td>
				<td>只支持文件数据采集</td>
			</tr>
			<tr>
				<td>数据过滤能力</td>
				<td>提供了拦截器</td>
				<td>强大的过滤能力</td>
				<td>有过滤能力，但较弱</td>
			</tr>
			<tr>
				<td>二次开发难度</td>
				<td>容易，对Java程序员友好</td>
				<td>难</td>
				<td>难</td>
			</tr>
			<tr>
				<td>社区活跃度</td>
				<td>高</td>
				<td>高</td>
				<td>高</td>
			</tr>
			<tr>
				<td>资料完整度</td>
				<td>高</td>
				<td>高</td>
				<td>高</td>
			</tr>
		</table>