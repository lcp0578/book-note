## 第10章 嵌入式技术
#### 嵌入式系统概述
- 嵌入式系统是以应用为中心、以计算机技术为基础，并将可配置与可裁剪的软、硬件集成与一体的专用计算机系统，需要满足应用对功能、可靠性、成本、体积和功耗等方面的严格要求。
- 一般嵌入式系统由嵌入式处理器、相关支持硬件、嵌入式操作系统、支持软件以及应用软件组成。
	- （1）**嵌入式处理器**。由于嵌入式系统一般是在恶劣的环境条件下工作，与一般处理器相比，嵌入式处理器应可抵抗恶劣环境的影响，比如高温、寒冷、电磁、加速度等环境因素。为适应恶劣环境，嵌入式处理器芯片除满足低功耗、体积小等需求外，根据不同环境需求，其工艺可分为民用、工业和军用三个档次。
	- （2）**相关支持硬件**。相关支撑硬件是指除嵌入式处理器以外的构成系统的其他硬件，包括存储器、定时器、总线、IO接口以及相关专用硬件。
	- （3）**嵌入式操作系统**。嵌入式操作系统是指运行在嵌入式系统中的基础软件，主要用于管理计算机资源和应用软件。与通用操作系统不同，嵌入式操作系统应具备实时性、可裁剪性和安全性等特征。
	- （4）**支撑软件**。支撑软件是指为应用软件开发与运行提供公共服务、软件开发、调试能力的软件，支撑软件的公共服务通常运行在操作系统之上，以库的方式被应用软件所引用。
	- （5）**应用软件**。应用软件是指为完成嵌入式系统的某一特点目标所开发的软件。
- 嵌入式系统应具备以下特性：
	- （1）**专业性强**。嵌入式系统面向特定应用需求，能够把通用CPU中许多由卡板完成的任务吉成在芯片内部，从而有利于嵌入式系统的小型化。
	- （2）**技术融合**。嵌入式系统将先进的计算机技术、通信技术、半导体技术和电子技术与各个行业的具体应用相结合，是一个技术密集、资金密集、高度分散、不断创新的知识集成系统。
	- （3）**软硬一体软件为主**。软件是嵌入式系统的主体，有IP核。嵌入式系统的硬件和软件都可以高效地设计，量体裁衣，去除冗余，可以在同样的硅片面积上实现更高的性能。
	- （4）**比通用计算机资源少**。由于嵌入式系统通常只完成少数几个任务。设计时考虑到其经济性，不能使用通用CPU，这就意味着管理的资源少，成本低，结构更简单。
	- （5）**程序代码固化在非易失存储器中**。为了提供执行速度和系统可靠性，嵌入式系统中的软件一般都固化在存储器芯片或单片机本身中，而不是存在磁盘中。
	- （6）**需要专门开发工具和环境**。嵌入式系统本身不具备开发能力，即使设计完成以后，用户通常也不能对其中的程序功能进行修改，必须有一套开发工具和环境才能进行开发。
	- （7）**体积小、价格低、工艺先进、性能价格比高、系统配置要求低、实时性强**。
	- （8）**对安全性和可靠性的要求高**。
#### 嵌入式系统分类
- 根据不同的用途可分为
	- 嵌入式实时系统
		- 强实时系统
		- 弱实时系统
	- 嵌入式非实时系统
- 从安全性要求看
	- 安全攸关系统
	- 非安全攸关系统
- 嵌入式系统分为五层：
	- （1）**硬件层**。硬件层主要是为嵌入式系统提供运行支撑的硬件环境，其核心是微处理器、存储器（ROM、SDRAM、Flash等）、I/O接口(A/D、D/A、I/O等)和通用设备以及总线、电源、时钟等。
	- （2）**抽象层**。在硬件层和软件层之间为抽象层，主要实现对硬件层的硬件进行抽象，为上层应用（操作系统）提供虚拟的硬件资源：板级支持包(Board Support Package, BSP)是一种硬件驱动软件，它是面向硬件层的硬件芯片或电路进行驱动，为上层操作系统对硬件进行管理提供支持。
	- （3）**操作系统层**。操作系统层主要由嵌入式操作系统、文件系统、图形用户接口、网络系统和通用组件等可配置模块组成。
	- （4）**中间件层**。中间件层一般位于操作系统之上，管理计算机资源和网络通信，中间件层是连接两个独立应用的桥梁。
	- （5）**应用层**。应用层指嵌入式系统的具体应用，主要包括不同的应用软件。
- 嵌入式软件的主要特点如下：
	- （1）**可裁剪性**。嵌入式软件能够根据系统功能需求，通过工具进行适应性功能的加或减，删除点系统不需要的软件模块，使得系统更加紧凑。
	- （2）**可配置性**。嵌入式软件需要具备根据系统运行功能或性能需要而被配置的能力，使得嵌入式软件能够根据系统的不同状态、不同容量和不同流程，对软件工作状况进行能力的扩展、变更和增量服务。
	- （3）**强实时性**。嵌入式系统中的大多数都属于强实时性系统，要求任务必须在规定的时限内处理完成，因此，嵌入式软件采用的算法优劣是影响实时性的主要原因。
	- （4）**安全性**。安全性是指系统在规定的条件下和规定的时间内不发生事故的能力。
	- （5）**可靠性**。可靠性是指系统在规定的条件下和规定的时间周期内程序执行所要求的功能的能力。
	- （6）**高确定性**。嵌入式系统的运行时间、状态和行为是预先设计规划好的，其行为不能随时间、状态的变化而变化。