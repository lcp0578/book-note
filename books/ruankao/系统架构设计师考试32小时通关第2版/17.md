## 第17小时 云原生架构设计理论与实践
- 基于云原生架构的应用特点包括
	- 代码结构发生巨大变化：不再需要掌握文件及其分布式处理技术，不再需要掌握各种复杂的网络技术，简化让业务开发变得更敏捷、更快速。
	- 非功能性特性大量委托给云原生架构来解决：比如高可用能力、容灾能力、安全特性、可运维性、易用性、可测试性、灰度发布能力等。
	- 高度自动化的软件交付：基于云原生的自动化软件交付可以把应用自动部署到成千上万的节点上。
- 云原生具有以下原则
	- 服务化原则：通过服务化架构把不同生命周期的模块分离出来，分别进行业务迭代。
	- 弹性原则：弹性是指系统的部署规模可以随着业务量的变化而自动伸缩。
	- 可观测原则：通过日志、链路跟踪和度量等手段，使得多次服务调用的耗时、返回值和参数都清晰可见。
	- 韧性原则：软件所依赖的软硬件组件出现各种异常时，软件表现出来的抵御能力。
	- 所有过程自动化原则：让自动化工具理解交付目标和环境差异，实现整个软件交付和运维的自动化。
	- 零信任原则：不应该信任网络内部和外部的任何人/设备/系统，需要基于认证和授权重构访问控制的信任基础。
	- 架构持续演进原则：架构具备持续演进能力。
- 云原生设计的主要架构模式有
	- 服务化架构模式
	- Mesh化架构模式
	- Serverless模式
	- 存储计算分离模式
	- 分布式事务模式
	- 可观测架构
	- 事件驱动架构
- 常见的云原生反模式有
	- 庞大的单体应用
	- 单体应用“硬拆”为微服务
	- 缺乏自动化能力的微服务
- 容器技术
	- 容器作为标准化软件基础单元，它将应用及其所有依赖项打包发布，由于依赖齐备，应用不在受环境限制，在不同计算环境间快速。可靠地运行。
- 容器编排技术包括
	- 资源调度
	- 应用部署与管理
	- 自动修复
	- 服务发现与负载均衡
	- 弹性伸缩
	- 声明式API
	- 可扩展性架构
	- 可移植性
- 微服务设计约束如下
	- 微服务个体约束：微服务应用的功能在业务领域划分上应是相互独立的。
	- 微服务与微服务之间的横向关系：在合理划分微服务建的边界后，从可发现性和可交互性处理微服务间的横向关系。
	- 微服务和数据层之间的纵向约束：提倡数据存储隔离（Data Storage Segregation，DSS）原则，对于数据的访问都必须通过相对应的微服务提供的API来访问。
	- 全局视角下的微服务分布式约束：高效运维整个系统，从技术上实现全自动化的CI/CD流水线满足对开发效率的诉求，并在这个基础上支持蓝绿、金丝雀等不同发布策略，以满足对业务发布稳定性的诉求。
- 无服务器技术的特点：
	- 全托管的计算服务--客户只需要编写代码构建应用，无须关注同质化的、负担繁重的基于服务器等基础设施的开发、运维、安全、高可用等工作。
	- 通用性--结合云BaaS(后端云服务)API的能力，能够支持云上所有重要类型的应用。
	- 自动弹性伸缩--让用户无须为资源使用提前进行容量规划。
	- 按量计费--让企业的使用成本有效降低，无须为闲置资源付费。